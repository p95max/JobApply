<!doctype html>
{% load static %}
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>JobApply</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/navbar.css' %}">
    <link rel="stylesheet" href="{% static 'css/landing.css' %}">
    <link rel="stylesheet" href="{% static 'css/applications.css' %}">
  </head>
  <body class="bg-body">

    {% block navbar %}
      {% include 'includes/navbar.html' %}
    {% endblock %}

{% block messages %}
  {% if messages %}
    <div class="position-fixed top-0 start-50 translate-middle-x z-3 w-100 pt-5 px-3" style="pointer-events: none;">
      <div class="container" style="pointer-events: auto;">
        {% for message in messages %}
          <div class="alert alert-{{ message.level_tag }} alert-dismissible fade show shadow mb-3 js-auto-alert"
               role="alert"
               data-timeout="{% if message.level_tag == 'danger' %}0{% else %}15000{% endif %}"
               style="max-width: 800px; margin: 0 auto;">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        {% endfor %}
      </div>
    </div>
  {% endif %}
{% endblock %}




      {% block content %}{% endblock %}
    </main>

{% block scripts %}
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>
  <script src="{% static 'js/navbar.js' %}?v=1" defer></script>
  <script>
  document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll(".js-auto-alert").forEach((el) => {
      const timeout = parseInt(el.getAttribute("data-timeout") || "0", 10);
      if (!timeout) return;

      window.setTimeout(() => {
        try {
          const alert = bootstrap.Alert.getOrCreateInstance(el);
          alert.close();
        } catch (e) {
          el.classList.remove("show");
          el.remove();
        }
      }, timeout);
    });
  });
</script>


  {% block page_scripts %}{% endblock %}

{% endblock %}

  </body>
</html>
